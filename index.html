<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ChenEE 首頁</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="logo">TechRetail</div>
    <nav class="nav-links">
      <a href="index.html">首頁</a>
      <a href="cart.html">購物車</a>
    </nav>
  </header>

  <section class="hero">
    <h1>科技 × 日常</h1>
    <p>選購電腦、生活用品與智慧商品</p>
  </section>

  <section class="products" id="product-list">
    <!-- 商品將由 JS 載入 -->
  </section>

  <script>
    const products = [
      { id: 1, name: "無線鍵盤", price: 890, desc: "人體工學設計", img: ./images/pexels-joshsorenson-1714205.jpg" alt="鍵盤" },
      { id: 2, name: "藍牙耳機", price: 1290, desc: "高清音質", img: "./images/exels-lee-campbell-18167-115655.jpg" alt="螢幕" },
      { id: 3, name: "掃地機器人", price: 390, desc: "快速清潔", img: "./images/pexels-atomlaborblog-844874.jpg" alt="掃地機器人"  }
    ];

    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    const productWrapper = document.getElementById("product-list");

    function renderProducts() {
      productWrapper.innerHTML = "";
      products.forEach((p) => {
        productWrapper.innerHTML += `
          <div class="product-card">
            <img src="${p.img}" alt="${p.name}">
            <h4>${p.name}</h4>
            <p>${p.desc}</p>
            <p>$${p.price}</p>
            <button class="btn-add-cart" data-id="${p.id}">加入購物車</button>
          </div>
        `;
      });
    }

    productWrapper.addEventListener("click", (e) => {
      if (!e.target.classList.contains("btn-add-cart")) return;
      const id = parseInt(e.target.dataset.id);
      const index = cart.findIndex(item => item.id === id);
      if (index === -1) {
        cart.push({ id, qty: 1 });
      } else {
        cart[index].qty++;
      }
      localStorage.setItem("cart", JSON.stringify(cart));
      alert("已加入購物車！");
    });

    renderProducts();
  </script>
</body>
</html>
